var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,s=(e,s)=>{for(var n in s||(s={}))a.call(s,n)&&o(e,n,s[n]);if(t)for(var n of t(s))r.call(s,n)&&o(e,n,s[n]);return e};import{R as n,L as l,T as c,r as i,a as m,C as d,b as g,c as f,B as u}from"./vendor.f478e47a.js";const p=n.createContext({}),E=()=>{const{goods:e,goodsInCart:t,setGoodsInCart:a}=n.useContext(p),r=e.filter((e=>!!t.find((t=>t.good===e.id)))).reduce(((e,t)=>e+t.price),0);return{goodsInCart:t,setGoodsInCart:a,totalPrice:r}};const h=e=>{const{totalPrice:t}=E();return n.createElement("header",{className:"flex justify-between p-4 border-b"},n.createElement(l,{to:"/react-sneakers/"},n.createElement("div",{className:"group flex gap-3 m-4 items-center"},n.createElement("img",{src:"data:image/png;base64,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",alt:"logo",className:"w-10 h-10 transition ease-in-out duration-200 transform group-hover:scale-125"}),n.createElement("div",null,n.createElement("h3",{className:"font-bold uppercase text-xl"},"React Sneakers"),n.createElement("p",{className:"text-sm text-gray-500"},"Магазин лучших кроссовок")))),n.createElement("div",{className:"flex items-center m-4"},n.createElement("ul",{className:"flex gap-6 items-center"},n.createElement("li",{className:"group flex gap-2 items-center cursor-pointer",onClick:e.onClickCart},n.createElement("img",{src:"/react-sneakers/assets/cart.ce51d6ff.svg",alt:"Cart",className:"transition ease-in-out duration-200 transform group-hover:scale-125"}),n.createElement("span",null,t," руб.")),n.createElement("li",{className:"cursor-pointer transition ease-in-out duration-200 transform hover:scale-125"},n.createElement(l,{to:"/react-sneakers/favorites/"},n.createElement("img",{src:"/react-sneakers/assets/favorites.cca1cdc0.svg",alt:"Favorites"}))),n.createElement("li",{className:"cursor-pointer transition ease-in-out duration-200 transform hover:scale-125"},n.createElement(l,{to:"/react-sneakers/orders/"},n.createElement("img",{src:"/react-sneakers/assets/user.1e39274b.svg",alt:"User"}))))))},x=({title:e,description:t,img:a,onClose:r})=>n.createElement("div",{className:"flex flex-col items-center gap-4 flex-grow justify-center"},n.createElement("img",{src:a,alt:"Empty"}),n.createElement("h3",{className:"font-bold text-xl"},e),n.createElement("span",{className:"text-center w-52 text-sm"},t),r?n.createElement("button",{className:"flex flex-none group justify-center items-center text-center border-0 bg-btn relative h-14 w-56 text-white rounded-xl active:bg-green-700 hover:opacity-90 focus:outline-none",onClick:r},n.createElement("img",{className:"absolute left-6 transition duration-500 ease-in-out transform group-hover:-translate-x-1",src:"/img/arrow-left.svg",alt:"Arrow"}),n.createElement("span",{className:"pl-4"},"Вернуться назад")):n.createElement(l,{to:"/react-sneakers/"},n.createElement("button",{className:"flex flex-none group justify-center items-center text-center border-0 bg-btn relative h-14 w-56 text-white rounded-xl active:bg-green-700 hover:opacity-90 focus:outline-none"},n.createElement("img",{className:"absolute left-6 transition duration-500 ease-in-out transform group-hover:-translate-x-1",src:"/img/arrow-left.svg",alt:"Arrow"}),n.createElement("span",{className:"pl-4"},"Вернуться назад")))),v=({onClose:e,onRemove:t})=>{const[a,r]=n.useState(!1),[o,s]=n.useState(),{goods:l,goodsInCart:d,setGoodsInCart:g,isCartOpen:f}=n.useContext(p),{totalPrice:u}=E();return n.createElement(c.Root,{appear:!0,show:f,as:i.exports.Fragment},n.createElement("aside",{className:"fixed inset-0 overflow-y-hidden z-10"},n.createElement("div",{className:"absolute inset-0 overflow-hidden"},n.createElement(c.Child,{as:i.exports.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0"},n.createElement("div",{onClick:e,className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity"})),n.createElement(c.Child,{as:i.exports.Fragment,enter:"transform transition ease-in-out duration-300",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-300",leaveFrom:"translate-x-0",leaveTo:"translate-x-full"},n.createElement("div",{className:"absolute inset-y-0 right-0 bg-white w-96 shadow-2xl p-6 flex flex-col gap-4"},n.createElement("div",{className:"flex justify-between flex-none"},n.createElement("h2",{className:"text-xl font-bold mb-2"},"Корзина"),n.createElement("button",{onClick:e,className:"border-0 opacity-60 hover:opacity-100 transition-opacity focus:outline-none"},n.createElement("img",{src:"/img/delete.svg",alt:"Close"}))),d.length>0?n.createElement(i.exports.Fragment,null,n.createElement("div",{className:"flex flex-col gap-4 flex-grow overflow-auto"},l.filter((e=>!!d.find((t=>t.good===e.id)))).map((e=>n.createElement("div",{key:e.id,className:"flex items-center justify-between gap-4 border rounded-xl p-4"},n.createElement("img",{className:"",src:e.imgUrl,alt:"Sneakers",height:70,width:70}),n.createElement("div",{className:"flex flex-col gap-2"},n.createElement("p",{className:"text-sm"},e.name),n.createElement("p",{className:"font-bold"},e.price," руб.")),n.createElement("button",{className:"border-0 opacity-60 hover:opacity-100 transition-opacity focus:outline-none"},n.createElement("img",{onClick:()=>t(d.find((t=>t.good===e.id))),src:"/img/delete.svg",alt:"Delete",className:"w-14"})))))),n.createElement("div",{className:"flex flex-col gap-2 flex-none"},n.createElement("div",{className:"flex justify-between"},n.createElement("span",null,"Итого:"),n.createElement("div",{className:"border-b-2 border-dashed flex-grow mx-1.5 mb-1.5"}),n.createElement("span",{className:"font-bold"},u," руб.")),n.createElement("div",{className:"flex justify-between"},n.createElement("span",null,"Включая налог 5%:"),n.createElement("div",{className:"border-b-2 border-dashed flex-grow mx-1.5 mb-1.5"}),n.createElement("span",{className:"font-bold"},u-Math.round(.95*u)," руб."))),n.createElement("button",{onClick:()=>{m.post("https://60f0071af587af00179d3cf2.mockapi.io/orders",{goods:d}).then((e=>s(e.data.id))).catch((e=>console.log(e))),r(!0),d.forEach((e=>{m.delete(`https://60f0071af587af00179d3cf2.mockapi.io/cart/${e.id}`).then((e=>console.log(e.data.id,e.statusText))).catch((e=>console.log(e)))})),g([])},className:"flex flex-none group justify-center items-center text-center border-0 bg-btn relative h-14 text-white rounded-xl active:bg-green-700 hover:opacity-90 focus:outline-none"},"Оформить заказ",n.createElement("img",{className:"absolute right-8 transition duration-500 ease-in-out transform group-hover:translate-x-1",src:"/img/arrow.svg",alt:"Arrow"}))):n.createElement(x,{title:a?"Заказ оформлен!":"Корзина пустая",description:a?`Ваш заказ #${o} скоро будет передан курьерской доставке`:"Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.",img:a?"/img/order.jpg":"/img/cart-empty.jpg",onClose:e}))))))},b=({isLoading:e,id:t,name:a,imgUrl:r,price:o,onClickPlus:s,onClickFavorite:l})=>{const{isGoodsInCart:c,isGoodsInFavorites:m}=n.useContext(p);return n.createElement("div",{className:"border rounded-2xl w-56 p-6 flex flex-col gap-4 relative hover:shadow-xl transition ease-in-out duration-200 transform hover:-translate-y-1"},e?n.createElement(d,{speed:2,width:200,height:235,viewBox:"0 0 210 260",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},n.createElement("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"175",height:"130"}),n.createElement("rect",{x:"0",y:"170",rx:"4",ry:"4",width:"93",height:"15"}),n.createElement("rect",{x:"0",y:"230",rx:"0",ry:"0",width:"70",height:"32"}),n.createElement("rect",{x:"143",y:"230",rx:"0",ry:"0",width:"32",height:"32"}),n.createElement("rect",{x:"0",y:"150",rx:"4",ry:"4",width:"175",height:"15"})):n.createElement(i.exports.Fragment,null,l&&n.createElement("button",{className:"absolute border-0  focus:outline-none transition ease-in-out duration-200 transform hover:scale-125",onClick:()=>{l({good:t})}},n.createElement("img",{src:m(t)?"/img/heart-active.svg":"/img/heart.svg",alt:"Heart"})),n.createElement("img",{className:"place-self-center",src:`img/goods/${r}`,alt:"sneakers",width:133,height:113}),n.createElement("h5",{className:"font-normal"},a),n.createElement("div",{className:"flex justify-between items-center"},n.createElement("div",null,n.createElement("p",{className:"uppercase text-sm text-gray-400"},"цена:"),n.createElement("b",null,o," руб.")),s&&n.createElement("button",{className:"border-0 focus:outline-none transition ease-in-out duration-200 transform hover:scale-125",onClick:()=>{s({good:t})}},n.createElement("img",{src:c(t)?"/img/checked.svg":"/img/plus.svg",alt:"Plus"})))))},y=({goods:e,searchValue:t,onChangeSearchValue:a,onAddToCart:r,onAddToFavorites:o,setSearchValue:l,isLoading:c})=>n.createElement(i.exports.Fragment,null,n.createElement("div",{className:"flex items-center justify-between m-4"},n.createElement("h1",{className:"font-bold text-3xl"},t?`Поиск по запросу: "${t}"`:"Все кроссовки"),n.createElement("div",{className:"flex border rounded-lg items-center w-76"},n.createElement("img",{src:"/img/search.svg",alt:"Search",className:"mx-2"}),n.createElement("input",{onChange:a,value:t,className:"border-0 outline-none rounded-lg h-10 text-gray-700",type:"text",placeholder:"Поиск..."}),t&&n.createElement("img",{onClick:()=>l(""),src:"/img/delete.svg",alt:"Clear",className:"mr-2 justify-self-end w-6"}))),n.createElement("div",{className:"flex p-4 flex-wrap gap-10 justify-start"},(()=>{const a=e.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));return(c?[...Array(8)]:a).map(((e,t)=>n.createElement(b,s({isLoading:c,key:e?e.id:t,onClickFavorite:o,onClickPlus:r},e))))})())),N=({onAddToCart:e,onAddToFavorites:t})=>{const{goods:a,goodsInFavorites:r}=n.useContext(p);return n.createElement(i.exports.Fragment,null,n.createElement("div",{className:"flex items-center justify-between m-4"},n.createElement("h1",{className:"font-bold text-3xl"},"Мои закладки")),r.length>0?n.createElement("div",{className:"flex p-4 flex-wrap gap-8 justify-start"},a.filter((e=>!!r.find((t=>t.good===e.id)))).map((a=>n.createElement(b,s({key:a.id,onClickFavorite:t,onClickPlus:e,favorites:r},a))))):n.createElement("div",{className:"my-36"},n.createElement(x,{title:"Закладок нет :(",description:"Вы ничего не добавляли в закладки",img:"/img/empty-smile.svg"})))},C=({onAddToCart:e,onAddToFavorites:t})=>{const[a,r]=n.useState([]),{goods:o,isLoading:l,setIsLoading:c}=n.useContext(p);return n.useEffect((()=>{c(!0),m.get("https://60f0071af587af00179d3cf2.mockapi.io/orders").then((e=>{const t=e.data.reduce(((e,t)=>[...e,...t.goods]),[]).map((e=>o.find((t=>t.id===e.good))));r(t),c(!1)})).catch((e=>console.log(e)))}),[]),n.createElement(i.exports.Fragment,null,n.createElement("div",{className:"flex items-center justify-between m-4"},n.createElement("h1",{className:"font-bold text-3xl"},"Ваши заказы")),a.length>0?n.createElement("div",{className:"flex p-4 flex-wrap gap-8 justify-start"},(l?[...Array(8)]:a).map(((e,t)=>n.createElement(b,s({isLoading:l,key:t},e))))):n.createElement("div",{className:"my-36"},n.createElement(x,{title:"У вас нет заказов",description:"Оформите хотя бы один заказ.",img:"/img/orders-empty.svg"})))},A=()=>{const[e,t]=n.useState([]),[a,r]=n.useState([]),[o,s]=n.useState([]),[l,c]=n.useState(!1),[i,d]=n.useState(""),[f,u]=n.useState(!0);n.useEffect((()=>{Promise.all([m.get("https://60f0071af587af00179d3cf2.mockapi.io/cart"),m.get("https://60f0071af587af00179d3cf2.mockapi.io/favorites"),m.get("https://60f0071af587af00179d3cf2.mockapi.io/goods")]).then((e=>{u(!1),r(e[0].data),s(e[1].data),t(e[2].data)}))}),[]);const E=e=>a.some((t=>t.good===e)),x=e=>o.some((t=>t.good===e)),b=e=>{const t=a.find((t=>t.good===e.good));E(e.good)?m.delete(`https://60f0071af587af00179d3cf2.mockapi.io/cart/${t.id}`).catch((e=>console.error(e))).then((()=>r((t=>t.filter((t=>t.good!==e.good)))))):m.post("https://60f0071af587af00179d3cf2.mockapi.io/cart",e).then((e=>r((t=>[...t,e.data])))).catch((e=>console.error(e)))},A=e=>{const t=o.find((t=>t.good===e.good));x(e.good)?m.delete(`https://60f0071af587af00179d3cf2.mockapi.io/favorites/${t.id}`).catch((e=>console.error(e))).then((()=>s((t=>t.filter((t=>t.good!==e.good)))))):m.post("https://60f0071af587af00179d3cf2.mockapi.io/favorites",e).then((e=>s((t=>[...t,e.data])))).catch((e=>console.error(e)))};return n.createElement(p.Provider,{value:{goods:e,goodsInCart:a,goodsInFavorites:o,isGoodsInCart:E,isGoodsInFavorites:x,isCartOpen:l,setGoodsInCart:r,isLoading:f,setIsLoading:u}},n.createElement("div",{className:"bg-white rounded-3xl shadow-lg max-w-wrapper my-12 mx-auto flex flex-col"},n.createElement(h,{onClickCart:()=>{c(!0),document.body.style.overflow="hidden"}}),n.createElement(v,{onClose:()=>{c(!1),document.body.style.overflow="auto"},onRemove:e=>{m.delete(`https://60f0071af587af00179d3cf2.mockapi.io/cart/${e.id}`).catch((e=>console.error(e))).then((()=>r((t=>t.filter((t=>t.id!==e.id))))))}}),n.createElement("main",{className:"p-4 flex flex-col flex-grow"},n.createElement(g,{path:"/react-sneakers/",exact:!0},n.createElement(y,{goods:e,searchValue:i,setSearchValue:d,onChangeSearchValue:e=>{d(e.target.value)},onAddToCart:b,onAddToFavorites:A,goodsInFavirites:o,isLoading:f})),n.createElement(g,{path:"/react-sneakers/favorites/",exact:!0},n.createElement(N,{onAddToCart:b,onAddToFavorites:A})),n.createElement(g,{path:"/react-sneakers/orders/",exact:!0},n.createElement(C,{onAddToCart:b,onAddToFavorites:A})))))};f.render(n.createElement(n.StrictMode,null,n.createElement(u,null,n.createElement(A,null))),document.getElementById("root"));
